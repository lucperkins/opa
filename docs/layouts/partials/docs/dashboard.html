{{ $home       := site.BaseURL }}
{{ $docsHome   := .CurrentSection }}
{{ $allDocs    := where site.RegularPages "Section" "docs" }}
{{ $docs       := where $allDocs ".Params.tutorial" "ne" true }}
{{ $tutorials  := where $allDocs ".Params.tutorial" true }}
{{ $logo       := site.Params.logos.sidebar | relURL }}
{{ $pageUrl    := .URL }}
{{ $isDocsHome := eq .URL $docsHome.URL }}
<div class="dashboard">
  <div class="dashboard-panel left has-background-white-bis is-hidden-mobile">
    <div class="dashboard-panel-header is-centered">
      <a class="dashboard-panel-logo" href="{{ $home }}">
        <img src="{{ $logo }}">
      </a>
    </div>

    <div class="dashboard-panel-content is-scrollable">
      <div class="docs-nav">
        <span class="docs-nav-title">
          Documentation
        </span>

        <a class="docs-nav-item{{ if $isDocsHome }} is-active{{ end }}" href="{{ $docsHome.URL }}">
          {{ $docsHome.Name }}
        </a>

        {{ range $docs }}
        {{ $isThisPage := eq .URL $pageUrl }}
        <a class="docs-nav-item{{ if $isThisPage }} is-active{{ end }}" href="{{ .URL }}">
          {{ .Title }}
        </a>
        {{ end }}

        <hr class="docs-nav-hr" />

        <span class="docs-nav-title">
          Tutorials
        </span>

        {{ range $tutorials }}
        {{ $isThisPage := eq .URL $pageUrl }}
        <a class="docs-nav-item{{ if $isThisPage }} is-active{{ end }}" href="{{ .URL }}">
          {{ .Title }}
        </a>
        {{ end }}
      </div>
    </div>
  </div>

  <div class="dashboard-main">
    {{ partial "docs/navbar.html" . }}

    <section class="is-scrollable">
      {{ partial "docs/hero.html" . }}
      {{ partial "docs/article.html" . }}
    </section>
  </div>

  <div class="dashboard-panel right is-small has-background-white-bis is-scrollable is-hidden-mobile">
    <div class="toc">
      {{ .TableOfContents }}
    </div>
  </div>
</div>